(()=>{function e(e){let t={event:e};t.event&&window.dataLayer?.push&&dataLayer.push(t)}function t(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var a=n[o];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length).split("|")[0]}return""}function n(e,t,n){var o=new Date,a=t+"|"+o.toISOString();o.setTime(o.getTime()+24*n*60*60*1e3);var c="expires="+o.toUTCString();document.cookie=e+"="+a+";"+c+";path=/"}function o(){(function(){const e=document.querySelector(".cookie #necessary"),t=["functional","marketing","statistic"];let n={};function o(){t.some((e=>{const t=document.getElementById(`a-${e}`);return t&&t.checked!==n[e]}))?(e.innerHTML=e.getAttribute("data-save-text"),e.classList.remove("default")):(e.innerHTML=e.getAttribute("data-default"),e.classList.add("default"))}t.forEach((e=>{const t=document.getElementById(`a-${e}`);t&&(n[e]=t.checked)})),t.forEach((e=>{const t=document.getElementById(`a-${e}`),n=document.getElementById(`c-${e}`);t&&n&&(t.addEventListener("change",(()=>{n.checked=t.checked,o()})),n.addEventListener("change",(()=>{t.checked=n.checked,o()})))}))})(),document.querySelectorAll(".switch-input").forEach((e=>{var n;let o=e.value,a=document.querySelector(`.historical-data.${o}`),c=a.querySelector(".historical-data-item-name-content"),r=a.querySelector(".historical-data-item-date");"necessary"!==o&&(e.checked="true"==t(o)),c.innerHTML="true"==t(o)?"yes":"No",r.innerHTML=null!==(n=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(a.startsWith(t)){var c=a.substring(t.length).split("|");return c.length>1?c[1]:null}}return null}(o))&&void 0!==n?n:""})),function(){const o=document.querySelector(".cookie"),a=document.querySelectorAll('[href="#cookie-trigger"]'),c=o.querySelectorAll(".cookie-option"),r=o.querySelector(".cookie-bg-color"),s=document.querySelector("body");function i(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.querySelectorAll(".cookie-option").forEach((t=>{"necessary"!==t.value&&(t.checked=e)}))}r.addEventListener("click",(function(){o.classList.add("shake"),setTimeout((()=>o.classList.remove("shake")),400)})),o.addEventListener("click",(function(a){a.target.matches(".switch-tab")?(o.classList.toggle("show-details-tab"),s.classList.toggle("no-scroll")):a.target.matches("#submit, #necessary")&&function(a){let r=[];if("submit"===a.id)r=["necessary","functional","statistic","marketing"],i(!0);else if(a.classList.contains("default"))r=["necessary"],i(!1);else{const e=Array.from(c).filter((e=>e.checked)).map((e=>e.value));r=[...new Set(e)]}(function(o){let a={},c=!1;["necessary","functional","statistic","marketing"].forEach((r=>{const s=t(r),i=o.includes(r)?"true":"false";s!==i?(n(r,i,365),a[r]=i,c=!0,"true"===i?(e("cookie_consent_"+r),console.log("Cookie set and pushed to GTM --\x3e "+r)):console.log("Cookie set to false --\x3e "+r)):console.log("Cookie skipped --\x3e "+r)})),c&&async function(e){let t=JSON.stringify({cookies:e});try{const e=await fetch("/wp-json/cookie/v1/data",{method:"POST",headers:{"Content-Type":"application/json"},body:t}),n=await e.json();console.log("API response:",n)}catch(e){console.error("API error:",e)}}(a),function(e){if(!window.dataLayer||!window.dataLayer.push)return;const t={functionality_storage:"granted",security_storage:"granted",personalization_storage:e.preferences?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",ad_user_data:e.analytics?"granted":"denied",ad_personalization:e.preferences?"granted":"denied"};gtag("consent","update",t),localStorage.setItem("consentMode",JSON.stringify(t))}({necessary:!0,analytics:"true"==t("functional"),preferences:"true"==t("statistic"),marketing:"true"==t("marketing")}),e("consent_update")})(r),n("cookies_selected","true",365),o.classList.add("hide"),s.classList.remove("no-scroll")}(a.target)})),a.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),o.classList.remove("hide")}))}))}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()})();