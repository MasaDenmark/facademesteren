!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Cocoen=a()}(function(){return(function d(e,f,b){function c(a,k){if(!f[a]){if(!e[a]){var i="function"==typeof require&&require;if(!k&&i)return i(a,!0);if(g)return g(a,!0);var j=new Error("Cannot find module '"+a+"'");throw j.code="MODULE_NOT_FOUND",j}var h=f[a]={exports:{}};e[a][0].call(h.exports,function(b){return c(e[a][1][b]||b)},h,h.exports,d,e,f,b)}return f[a].exports}for(var g="function"==typeof require&&require,a=0;a<b.length;a++)c(b[a]);return c})({1:[function(c,b,d){"use strict";var e=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d},f=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a=function(){function a(b,c){(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")})(this,a),this.options=e({},a.defaults,c),this.element=b||document.querySelector(".cocoen"),this.init()}return f(a,[{key:"init",value:function(){this.createElements(),this.addEventListeners(),this.dimensions()}},{key:"createElements",value:function(){var b=document.createElement("span");b.className=this.options.dragElementSelector.replace(".",""),this.element.appendChild(b);var c=document.createElement("div"),a=this.element.querySelector("img:first-child");c.appendChild(a.cloneNode(!0)),a.parentNode.replaceChild(c,a),this.dragElement=this.element.querySelector(this.options.dragElementSelector),this.beforeElement=this.element.querySelector("div:first-child"),this.beforeImage=this.beforeElement.querySelector("img")}},{key:"addEventListeners",value:function(){this.element.addEventListener("click",this.onTap.bind(this)),this.element.addEventListener("mousemove",this.onDrag.bind(this)),this.element.addEventListener("touchmove",this.onDrag.bind(this)),this.dragElement.addEventListener("mousedown",this.onDragStart.bind(this)),this.dragElement.addEventListener("touchstart",this.onDragStart.bind(this)),window.addEventListener("mouseup",this.onDragEnd.bind(this)),window.addEventListener("resize",this.dimensions.bind(this))}},{key:"dimensions",value:function(){this.elementWidth=parseInt(window.getComputedStyle(this.element).width,10),this.elementOffsetLeft=this.element.getBoundingClientRect().left+document.body.scrollLeft,this.beforeImage.style.width=this.elementWidth+"px",this.dragElementWidth=parseInt(window.getComputedStyle(this.dragElement).width,10),this.minLeftPos=this.elementOffsetLeft+10,this.maxLeftPos=this.elementOffsetLeft+this.elementWidth-this.dragElementWidth-10}},{key:"onTap",value:function(a){a.preventDefault(),this.leftPos=a.pageX?a.pageX:a.touches[0].pageX,this.requestDrag()}},{key:"onDragStart",value:function(a){a.preventDefault();var b=a.pageX?a.pageX:a.touches[0].pageX,c=this.dragElement.getBoundingClientRect().left+document.body.scrollLeft;this.posX=c+this.dragElementWidth-b,this.isDragging=!0}},{key:"onDragEnd",value:function(a){a.preventDefault(),this.isDragging=!1}},{key:"onDrag",value:function(a){a.preventDefault(),this.isDragging&&(this.moveX=a.pageX?a.pageX:a.touches[0].pageX,this.leftPos=this.moveX+this.posX-this.dragElementWidth,this.requestDrag())}},{key:"drag",value:function(){this.leftPos<this.minLeftPos?this.leftPos=this.minLeftPos:this.leftPos>this.maxLeftPos&&(this.leftPos=this.maxLeftPos);var a=this.leftPos+this.dragElementWidth/2-this.elementOffsetLeft,b=100*(a/=this.elementWidth)+"%";this.dragElement.style.left=b,this.beforeElement.style.width=b,this.options.dragCallback&&this.options.dragCallback(a)}},{key:"requestDrag",value:function(){window.requestAnimationFrame(this.drag.bind(this))}},]),a}();a.defaults={dragElementSelector:".cocoen-drag",dragCallback:null},b.exports=a},{},]},{},[1])(1)}),document.querySelectorAll(".cocoen").forEach(function(a){new Cocoen(a)})